---
audience: end-user
title: 構成の作成
description: 構成の作成方法について説明します
exl-id: 7b9acfc0-99b6-4f83-b774-3652c811868c
source-git-commit: 65052ffcd8c70817aa428bea7f8b6baa0a49a1b0
workflow-type: tm+mt
source-wordcount: '716'
ht-degree: 100%

---

# 構成アクティビティの調整 {#activities}

構成を作成したら、実行される様々なタスクの調整を開始できます。これを行うために、オーディエンス構成ダイアグラムを構築できる視覚的なキャンバスが用意されています。このダイアグラムに様々なアクティビティを追加し、順番に接続できます。

## アクティビティを追加 {#add}

設定のこの段階では、ダイアグラムに、構成の開始を表す「開始」アイコンが付きます。最初のアクティビティを追加するには、「開始」アイコンに接続されている「**+**」ボタンをクリックします。

ダイアグラムに追加できるアクティビティのリストが表示されます。使用可能なアクティビティは、構成ダイアグラム内の位置によって異なります。例えば、最初のアクティビティを追加する際に、オーディエンスをターゲットにしたり、構成パスを分割したり、構成の実行を遅らせるスケジューラーを設定したり、構成の実行を遅らせる&#x200B;**待機**&#x200B;アクティビティを設定したりして、構成を開始できます。一方、**オーディエンスを作成**&#x200B;アクティビティの後には、ターゲティングアクティビティでターゲットを絞り込んだり、フロー制御アクティビティで構成プロセスを整理したりすることができます。

アクティビティがダイアグラムに追加されると、右側のパネルが表示され、新しく追加されたアクティビティを特定の設定で設定できます。各アクティビティの設定方法について詳しくは、[この節](activities/about-activities.md)を参照してください。

![](assets/composition-create-add.png)

この手順を繰り返し、構成で実行するタスクに応じて、必要なだけアクティビティを追加します。また、2 つのアクティビティの間に新しいアクティビティを挿入することもできます。これを行うには、アクティビティ間のトランジションで「**+**」ボタンをクリックし、目的のアクティビティを選択して、右側のパネルで設定します。

>[!TIP]
>
>各アクティビティ間のトランジションの名前をパーソナライズすることもできます。これを行うには、トランジションを選択し、右側のパネルでそのラベルを変更します。

## キャンバスツールバー {#toolbar}

キャンバスの右上隅にあるツールバーには、アクティビティを簡単に操作し、キャンバス内を移動するオプションが表示されます。

![](assets/canvas-toolbar.png)

使用可能なアクションは次のとおりです。

* **[!UICONTROL 複数選択]**：複数のアクティビティを選択してすべてを一度に削除するか、コピー＆ペーストします。詳しくは、[この節](#copy)を参照してください。
* **[!UICONTROL 回転]**：キャンバスを垂直方向に切り替えます。
* **[!UICONTROL 画面に合わせる]**：キャンバスのズームレベルを画面に合わせて調整します。
* **[!UICONTROL ズームアウト]**／**[!UICONTROL ズームイン]**：キャンバスをズームアウトまたはズームインします。
* **[!UICONTROL マップを表示]**：現在の位置を示すキャンバスのスナップショットを開きます。

## アクティビティの管理 {#manage}

アクティビティを追加する場合、プロパティパネルでアクションボタンを使用して複数の操作を実行できます。

![](assets/activity-actions.png)

実行できる操作は、次のとおりです。

* キャンバスからアクティビティを「**[!UICONTROL 削除]**」します。
* アクティビティを&#x200B;**[!UICONTROL 無効]／[!UICONTROL 有効]**&#x200B;にします。構成を実行すると、無効になっているアクティビティと、同じパス上にある後続のアクティビティは実行されず、構成が停止します。
* アクティビティを&#x200B;**[!UICONTROL 一時停止]／[!UICONTROL 再開]**&#x200B;します。構成を実行すると、一時停止したアクティビティで一時停止します。対応するタスクと、同じパス内でそのタスクに続くすべてのタスクが実行されません。
* アクティビティを&#x200B;**[!UICONTROL コピー]**&#x200B;して、構成内の別の場所にペーストします。これを行うには、トランジションの「**+**」ボタンをクリックし、「**[!UICONTROL X アクティビティをペースト]**」を選択します。<!-- cannot copy multiple activities ? cannot paste in another composition?-->
* 選択したアクティビティの&#x200B;**[!UICONTROL 実行オプション]**&#x200B;を設定します。使用可能なオプションについて詳しくは、以下の節を展開してください。

  +++使用可能な実行オプション

  「**[!UICONTROL プロパティ]**」セクションでは、アクティビティの実行に関する一般的な設定を指定できます。

   * **[!UICONTROL 実行]**：開始時に実行されるアクションを定義します。
   * **[!UICONTROL 最大実行期間]**：「30 秒」や「1 時間」などの期間を指定します。指定した期間が経過してもアクティビティが完了しない場合は、アラートがトリガーされます。このアラートは、構成の機能には影響しません。
   * **[!UICONTROL タイムゾーン]**：アクティビティのタイムゾーンを選択します。連合オーディエンス構成では、同じインスタンス上で複数の国の時差を管理できます。適用される設定は、インスタンスの作成時に設定されます。
   * **[!UICONTROL アフィニティ]**：特定のマシンで構成アクティビティを強制的に実行します。これを行うには、対象のアクティビティに対して 1 つまたは複数のアフィニティを指定する必要があります。
   * **[!UICONTROL 動作]**：非同期タスクが使用された場合に従うべき手順を定義します。

  「**[!UICONTROL エラー管理]**」セクションでは、アクティビティでエラーが発生した場合に実行するアクションを指定できます。

  「**[!UICONTROL 初期化スクリプト]**」セクションでは、変数を初期化したり、アクティビティのプロパティを変更したりできます。「**[!UICONTROL コードを編集]**」ボタンをクリックし、実行するコードのスニペットを入力します。スクリプトは、アクティビティの実行時に呼び出されます。

+++

* アクティビティの「**ログとタスク**」にアクセスします。
